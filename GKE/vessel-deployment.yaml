---
apiVersion: apps/v1beta1
kind: Deployment
metadata:
  name: vessel
  labels:
    app: vessel
spec:
  replicas: 2
  template:
    metadata:
      labels:
        app: vessel
    spec:
        containers:
        - name: vessel
          image: gcr.io/gcptraining-17042017/python-grpc-microservice/vessel:go-http2
          imagePullPolicy: Always
          livelinessProbe:
            httpGet:
              path: /
              port: 9000
              schems: HTTPS
          readinessProbe:
            httpGet:
              path: /
              port: 9000
              schems: HTTPS
          ports:
          - containerPort: 50052
            protocol: TCP
            name: vessel-port
          - containerPort: 9000
            protocol: TCP
            name: vheal-port
